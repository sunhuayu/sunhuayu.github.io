<!DOCTYPE html>
<html>

  <head>
    <meta charset="UTF-8">
    <title>消息</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="initial-scale=1, maximum-scale=1">

    <link href="SUI/sm.min.css" rel="stylesheet" />

    <style>
      #btn-title {
        width: 40%;
        margin: 0 auto;
      }
      
      #msg-page,
      #ab-page,
      #dt-page {
        animation: none !important;
        -webkit-animation: none !important;
      }
      
      #info-panel{
      	background-color: white;
      }
      
      #self-head{
      	width: 3rem;
      	height: 3rem;
      	border-radius: 50%;
      	float: left;
      }
      
      #self-name{
      	float: left;
      }
      
      
      
    </style>

  </head>

  <body>
	
    <div class="page-group">

      <!--消息页面-->
      <div class="page page-current" id="msg-page">
        <!--导航栏-->
        <header class="bar bar-nav">
          <a class="icon icon-me pull-left open-panel" data-panel="#info-panel"></a>
          <button class="button button-link pull-right button-nav"><b>＋</b></button>
          <div id="btn-title" class="buttons-row">
            <a class="tab-link button active">消息</a>
            <a class="tab-link button">电话</a>
          </div>
        </header>

        <!--工具栏-->
        <nav class="bar bar-tab">
          <a class="tab-item active">
            <span class="icon icon-message"></span>
            <span class="tab-label">消息</span>
            <span class="badge">99</span>
          </a>
          <a class="tab-item" href="#ab-page">
            <span class="icon icon-friends"></span>
            <span class="tab-label">联系人</span>
          </a>
          <a class="tab-item" href="#dt-page">
            <span class="icon icon-star"></span>
            <span class="tab-label">动态</span>
          </a>
        </nav>

        <!--内容区-->
        <div class="content close-panel">
          <div class="content-block">
          	这里是好友列表
          </div>
        </div>

      </div>

      <!--联系人页面-->
      <div class="page" id="ab-page">

        <header class="bar bar-nav">
          <a class="icon icon-me pull-left"></a>
          <button class="button button-link button-nav pull-right">添加</button>
          <h1 class="title">联系人</h1>
        </header>

        <nav class="bar bar-tab">
          <a class="tab-item" href="#msg-page">
            <span class="icon icon-message"></span>
            <span class="tab-label">消息</span>
          </a>
          <a class="tab-item active">
            <span class="icon icon-friends"></span>
            <span class="tab-label">联系人</span>
          </a>
          <a class="tab-item" href="#dt-page">
            <span class="icon icon-star"></span>
            <span class="tab-label">动态</span>
          </a>
        </nav>

        <div class="content">
          <div class="content-block">
          	这里是联系人页面
          </div>
        </div>

      </div>

      <!--动态页面-->
      <div class="page-group">
        <div class="page" id="dt-page">
          <header class="bar bar-nav">
            <a class="icon icon-me pull-left"></a>
            <button class="button button-link button-nav pull-right">更多</button>
            <h1 class="title">动态</h1>
          </header>

          <nav class="bar bar-tab">
            <a class="tab-item" href="#msg-page">
              <span class="icon icon-message"></span>
              <span class="tab-label">消息</span>
            </a>
            <a class="tab-item" href="#ab-page">
              <span class="icon icon-friends"></span>
              <span class="tab-label">联系人</span>
            </a>
            <a class="tab-item active">
              <span class="icon icon-star"></span>
              <span class="tab-label">动态</span>
            </a>
          </nav>

          <div class="content">
            <div class="content-block">
							这里是动态页面
            </div>
          </div>
        </div>
      </div>
      
      
     	<!--侧边栏-->
      <div class="panel panel-left panel-reveal" id="info-panel">
      	<div class="content-block">
      		
      		<!--个人信息-->
      		<div id="self-info">
      			<img id="self-head" src="img/html5.jpg"/>
      			<span id="self-name">我的昵称</span>
      			<br />
      			<div id="self-level"></div>
      			<div style="clear: both;"></div>
      			<p>今天捡了100块钱</p>
      		</div>
      		
      		<!--菜单列表-->
      		<div class="list-block">
      			<ul>
      				<li class="item-content">
      					<div class="item-media">
      						<i class="icon icon-gift"></i>
      					</div>
      					<div class="item-inner">
      						<div class="item-title">了解会员特权</div>
      					</div>
      				</li>
      				
      				<li class="item-content">
      					<div class="item-media">
      						<i class="icon icon-menu"></i>
      					</div>
      					<div class="item-inner">
      						<div class="item-title">QQ钱包</div>
      					</div>
      				</li>
      				
      				<li class="item-content">
      					<div class="item-media">
      						<i class="icon icon-app"></i>
      					</div>
      					<div class="item-inner">
      						<div class="item-title">个性装扮</div>
      					</div>
      				</li>
      				
      				<li class="item-content">
      					<div class="item-media">
      						<i class="icon icon-star"></i>
      					</div>
      					<div class="item-inner">
      						<div class="item-title">我的收藏</div>
      					</div>
      				</li>
      				
      				<li class="item-content">
      					<div class="item-media">
      						<i class="icon icon-picture"></i>
      					</div>
      					<div class="item-inner">
      						<div class="item-title">我的相册</div>
      					</div>
      				</li>
      				
      				<li class="item-content">
      					<div class="item-media">
      						<i class="icon icon-computer"></i>
      					</div>
      					<div class="item-inner">
      						<div class="item-title">我的文件</div>
      					</div>
      				</li>
      				
      				<li class="item-content">
      					<div class="item-media">
      						<i class="icon icon-card"></i>
      					</div>
      					<div class="item-inner">
      						<div class="item-title">我的名片夹</div>
      					</div>
      				</li>
      			</ul>
      		</div>
      		
      		
      		
      	</div>
      </div>
      

    </div>

  </body>

  <script src="SUI/zepto.min.js"></script>
  <script src="SUI/sm.min.js"></script>

  <script>
    //URL中第一个#后面的字符串是url的哈希值。hash值
    //不会随请求发送到服务器，仅仅是指导浏览器当页面
    //加载完成时显示页面的哪个部分。
    //window.location.hash可以访问当前页面的hash值
    //window.onhashchange事件可以监听hash的变化。
		
		
		$(document).on("pageInit","#msg-page",function(e,pageID,$page){
			document.title = "消息";
			
		});
		
		$(document).on("pageInit","#ab-page",function(e,pageID,$page){
			document.title = "联系人";
		});
		
		$(document).on("pageInit","#dt-page",function(e,pageID,$page){
			document.title = "动态";
		});
		
		
		var myLevel = 50;
		
		function refreshLevel(level){
			var levArray = [];
			
			while(level/4>=1){
				var remainder = level%4;
				levArray.unshift(remainder);
				level = Math.floor(level/4);
			}
			
			levArray.unshift(level);
			
			console.log(levArray);
			
			for (var i = 0;i<levArray.length;i++) {
				var picName;
				switch (levArray.length-i){
					case 3:
						picName = "sun.png";
						break;
					case 2:
						picName = "moon.jpg";
						break;
					case 1:
						picName = "star.jpg";
						break;
					default:
						break;
				}
				
				for (var j = 0;j<levArray[i];j++) {
					$("<img />")
					.attr("src","img/"+picName)
					.css("width","0.8rem")
					.css("height","0.8rem")
					.appendTo($("#self-level"));
				}
				
			}
			
		}
		
		refreshLevel(myLevel);
		
		
    //初始化SUI
    $.init();
    
    
    
    
    
  </script>

</html>